# Debug

## Watch ouput
### BubbleSort
[bubblesort](u01_debug/BubbleSort.java) is an error program, please fix it!
  * Lesson lesson?

## Breakpoint

### GCD
使用 while loop 及 recursive 寫最大公因數的程式，並用 breakpoint 執行之。

4, 8 ==> 4
10, 12 ==> 2

### Fibonacci numbers
使用 while loop 及 recursive 寫 Fibonacci number 的程式，並用 breakpoint 執行之。
* 輸入一個數字，輸出最接近該數字且小於該數字的 fibonacci number 及其索引值

60 ==> 55, 10
```
0 1 1 2 3 5 8 13 21 34 55 
```

### 字串處理功能
寫一個函數，將一個句子中的所有單詞反轉（保留單詞的順序），但不改變標點符號的位置。
- 單詞的反轉不應影響標點符號的位置。
- 測試需要考慮不同的輸入，例如有標點符號的句子、沒有標點符號的句子、空字符串、只有一個單詞的句子等。

```
Input: "Hello, world!"
Output: "olleH, dlrow!"
```



# Defensive Programming

## Assertion

### 複雜的日期計算
寫一個函數，計算從今天開始的第 N 天是哪一天，且排除週末和假日（假日可以由函數參數傳入）。
- 必須處理多種邊界情況，例如輸入0天、跨年、假日連續的情況。
- 測試需要覆蓋多種輸入和情況，以確保邏輯的正確性。

```
Input: start_date = "2024-08-27", N = 5, holidays = ["2024-09-01"]
Output: "2024-09-04"
```


## Exception 

### Triangle
有一function checkTriangle(int, int, int), 會輸入三邊長（a,b,c）
- 有任一長度 <= 0 時，應該拋出例外
- 須滿足任兩邊和大於第三邊，若違反則拋出一個字定義的例外：TriangleException
- 依據條件回傳 正三角形、等腰三角形、直角三角形、一般三角形。（請注意定義直角三角形的定義）

## Exercise

### sin
應用迴圈來寫一個程式計算 $sin(x)$,其中 $x$ 為一個徑度。30 度等於 $30*PI/180$ 徑度, 例如 $sin(30’) = sin(pi/6) = sin(3.14159/6)$ 約等於 $0.5$。使用 debug 的工具來協助你撰寫此程式。$sin(x)$ 的公式如下, 迴圈跑的越多次值會越精準, 當相鄰迴圈所跑出來的差異不大時，即可停止。
  
    $sin(x) = x - (x^3/3!) + (x^5/5!) - (x^7/7!)...$

請利用 Debugger 的各種工具來協助擬進行此程式。

### Tree
有一個 Tree 類別，一個 Node 類別。node1.add(node2) 可以把 node2 加到 node 的子節點。 tree.setRoot(node1) 可以設定 node1 為根節點。每個 node 內有一個數值，tree.getSum() 會傳回所有 node 的合。node.getSum() 會回傳該點和所有子節點的合。應用 assert 來寫這個程式。設計一些測試案例來測試此程式。(Hint: tree 不可以有 cyclic 的情形發生)


### MaxHeap
了解 [MaxHeap](https://docs.google.com/presentation/d/11ajG_oQkdPvYaAa7-9oGG-bFU34YJMmq8zZZIFch-Y4/edit?usp=sharing) 的運作原理，針對 [MaxHeap](MaxHeap) 的程式碼進行追蹤測試，透過變數的變化、step into 的流程執行了解檢查該程式是否正確。

[Reference code](u02_defensive/MaxHeap.java)

# ETC

### 1. 青年貸款利率計算器
**題目：** 寫一個函數，根據給定的本金、年利率、貸款期限（以年計），計算青年貸款的月供金額和總利息。考慮不同的還款方式（如等額本息、等額本金等）。

**挑戰點：**
- 測試需要涵蓋不同的貸款條件，例如不同的本金、利率、期限，以及多種還款方式。
- 邊界情況，如超長的貸款期限、極低或極高的利率、零本金等，都需要納入測試範圍。
- 必須確保計算結果的精確性，尤其在處理浮點數時要避免精度丟失。
 
**範例：**
```python
Input: principal = 100000, annual_rate = 0.05, term_years = 5, method = "等額本息"
Output: monthly_payment = 1887.12, total_interest = 13227.20
```

### 2. 系統模組開發 - 用戶權限管理
**題目：** 開發一個用戶權限管理模組，允許為不同角色分配不同的權限。用戶可以屬於多個角色，每個角色可以有多個權限。系統應允許檢查某個用戶是否具有特定權限。

**挑戰點：**
- 測試需要考慮多層次的角色和權限組合，例如單一角色、多角色覆蓋、無角色、重複權限等。
- 邊界情況，如空的角色、無效的權限查詢、用戶無法被分配角色等。
- 必須確保模組能夠正確處理大量用戶和角色數據，以及在查詢過程中的性能。

**範例：**
```python
Input: user_roles = ["admin", "editor"], permissions = {"admin": ["read", "write"], "editor": ["read"]}
Check: user_has_permission(user, "write")
Output: True
```

### 3. 醫療系統 - 病人就診記錄管理
**題目：** 開發一個病人就診記錄管理系統，允許醫生輸入病人的診斷、開立處方，並生成處方單。系統需要支持病人的多次就診記錄，並能根據日期和症狀查詢病歷。

**挑戰點：**
- 測試需要考慮病人的多次就診、不同醫生的診斷、處方內容的有效性、邊界情況如無就診記錄或無效的症狀查詢等。
- 測試需要驗證系統能夠正確地處理病歷查詢並返回正確的診斷和處方資訊。
- 需要進行性能測試，特別是在大量病人和診療數據的情況下。

**範例：**
```python
Input: patient = "John Doe", visit_date = "2024-08-27", diagnosis = "Flu", prescription = ["Paracetamol"]
Check: get_patient_history(patient, "2024-08-27")
Output: {"diagnosis": "Flu", "prescription": ["Paracetamol"]}
```

### 4. 電商系統 - 訂單折扣計算
**題目：** 寫一個函數，根據購物車中的商品總金額、會員等級、優惠券、以及促銷活動，計算最終的應付金額。考慮不同的折扣規則，折扣可以疊加或不疊加。

**挑戰點：**
- 測試需要考慮多種折扣疊加規則、會員等級帶來的折扣變化、不同商品的特殊折扣、無效或過期的優惠券等。
- 測試邊界情況，如折扣後的金額小於零、優惠券和促銷衝突等。
- 必須確保計算結果準確無誤，並能處理大量的訂單和商品數據。

**範例：**
```python
Input: cart_total = 500, membership_level = "Gold", coupons = ["10%OFF"], promotions = ["Summer Sale"]
Output: final_amount = 400
```

### 5. 銀行系統 - 存款利息計算
**題目：** 開發一個銀行存款利息計算系統，根據存款金額、利率、存款期限（以月計），計算到期時的本息總額。考慮單次存款和定期存款兩種情況。

**挑戰點：**
- 測試需要考慮不同的利率、存款期限、存款金額，以及定期存款的複利計算。
- 邊界情況，如超長期限、極低或極高的利率、零或負的存款金額等。
- 必須確保計算的精度和結果的準確性，特別是複利計算的邏輯。

**範例：**
```python
Input: deposit = 100000, rate = 0.03, term_months = 12, type = "定期存款"
Output: total_amount = 103045.67
```

這些題目基於真實的業務需求，能讓學生更深入地理解如何將測試技巧應用於實際系統開發中。希望這些題目能幫助你設計出符合課程需求的練習活動！


關於股票買賣的題目也是一個很好的選擇，因為它涉及到計算、數據處理以及邊界情況的考量。以下是幾個與股票買賣相關的練習題目，這些題目可以幫助學生練習軟體測試技巧，同時也能讓他們理解金融交易的基本概念。

### 1. 股票買賣收益計算
**題目：** 寫一個函數，根據給定的股票買入價、賣出價、交易手續費率，計算最終的收益或虧損。

**挑戰點：**
- 測試需要考慮不同的買入價和賣出價組合，手續費的影響，以及可能的負收益情況。
- 邊界情況，如零手續費、買入價等於賣出價、極端價格（如極高或極低的股票價格）等。
- 必須確保計算結果的精確性，並且能正確處理浮點數的精度問題。

**範例：**
```python
Input: buy_price = 100, sell_price = 120, fee_rate = 0.01
Output: profit = 18.8
```

### 2. 股票投資組合的風險和收益分析
**題目：** 開發一個系統，允許用戶輸入多隻股票的歷史價格數據，計算投資組合的預期收益率和風險（如標準差）。用戶可以根據此結果來調整投資組合。

**挑戰點：**
- 測試需要涵蓋不同的股票數量、不同的歷史數據長度，並考慮極端情況（如所有股票價格都相同或大幅波動）。
- 邊界情況，如空的投資組合、無效的價格數據（如負值或零值）等。
- 需要驗證系統能夠正確處理大量數據並提供準確的統計分析結果。

**範例：**
```python
Input: stock_prices = {"AAPL": [150, 152, 148], "GOOGL": [1200, 1190, 1210]}
Output: expected_return = 0.02, risk = 0.015
```

### 3. 股票交易系統模擬
**題目：** 寫一個股票交易模擬系統，允許用戶進行買賣操作，系統根據市場價格即時更新賬戶餘額和持倉狀況。系統還應能夠生成交易記錄報告，顯示所有的買賣操作。

**挑戰點：**
- 測試需要涵蓋多次買賣操作，考慮價格變動對賬戶餘額和持倉的影響。
- 邊界情況，如試圖買入超過賬戶餘額的股票、在市場價格為0的情況下操作等。
- 必須確保交易記錄的正確性，以及系統能夠在高頻交易下保持性能穩定。

**範例：**
```python
Input: buy("AAPL", 10, 150), sell("AAPL", 5, 160)
Output: balance = 850, holdings = {"AAPL": 5}, transaction_history = [{"type": "buy", "symbol": "AAPL", "shares": 10, "price": 150}, {"type": "sell", "symbol": "AAPL", "shares": 5, "price": 160}]
```

### 4. 股票買入建議系統
**題目：** 開發一個系統，根據歷史價格走勢和簡單的技術指標（如移動平均線），給出是否應該買入某只股票的建議。

**挑戰點：**
- 測試需要考慮不同的技術指標和歷史數據的組合，尤其是在價格變動劇烈或市場趨勢不明顯的情況下。
- 邊界情況，如價格數據不足以計算技術指標、無效的指標參數等。
- 必須確保系統能夠根據不同的市場狀況提供合理的建議。

**範例：**
```python
Input: stock_prices = [150, 152, 148, 147, 149], moving_average_period = 3
Output: suggestion = "Buy"
```

### 5. 歷史數據回測系統
**題目：** 寫一個系統，允許用戶選擇一個交易策略，並基於歷史數據回測該策略的表現（如總收益、最大回撤等），以便評估策略的有效性。

**挑戰點：**
- 測試需要涵蓋多種交易策略和不同的歷史數據集，考慮策略在極端市場條件下的表現。
- 邊界情況，如回測期間內無交易信號、無效或矛盾的策略參數設置等。
- 必須確保回測結果的準確性，並能夠正確處理大量數據。

**範例：**
```python
Input: strategy = "Moving Average Crossover", historical_prices = [150, 152, 148, 147, 149], short_period = 3, long_period = 5
Output: total_return = 0.05, max_drawdown = 0.02
```

這些題目涉及股票交易中的常見計算和模擬場景，不僅具有實用性，還能幫助學生理解和掌握金融系統中常見的邏輯和挑戰。希望這些例子能為你提供靈感！
